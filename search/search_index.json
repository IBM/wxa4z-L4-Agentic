{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":""},{"location":"#welcome","title":"Welcome","text":"<p>Welcome to the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide (lab guide). The lab guide is part of the IBM watsonx Assistant for Z for Technical Sales Level 4 learning plan for IBM and Business Partner Technical Sales and related badge. The learning plan is intended to teach technical sellers and Business Partners how to conduct a proof of experience (PoX) for a client. </p> <p>In a fast-paced world, things change...</p> <p>The products and services may appear differently than what is shown in the lab guide. This can occur if the product or service is updated with a new version.</p> <p>Responses generated by IBM watsonx Assistant for Z are likely to change over time. The responses you see when you run the queries in this section may differ from the screen images captured in the lab guide. </p>"},{"location":"#prerequisite-knowledge","title":"Prerequisite knowledge","text":"<p>The prerequisite requirements to complete this course are as follows:</p> <ul> <li> <p>Basic Windows or Linux (MacOS) Operating System admin skills, including:</p> <ul> <li> <p>Open a command prompt or power shell on Windows, or a terminal window on Linux (MacOS)</p> </li> <li> <p>Change directories, create directories, and move directories</p> </li> <li> <p>Set environment variables and add directories to the default PATH</p> </li> <li> <p>Create and modify plain text files with an editor and save as plain text files</p> </li> <li> <p>Familiarity with a visual code editor like VS Studio Code is a plus</p> </li> </ul> </li> <li> <p>The following links may help with these basic skills. This is not an endorsement of the sources. Try searching the internet for related resources.    </p> <ul> <li> <p>Windows tutorials (and other videos in the series).</p> </li> <li> <p>Windows PowerShell.</p> </li> <li> <p>MacOS terminal.</p> </li> <li> <p>The 50 most popular Linux &amp; terminal commands - full course for beginners (based on the following book).</p> </li> <li> <p>The Linux Commands Handbook (Linux/MacOS).</p> </li> </ul> </li> </ul> <p>Read and follow all the directions.</p> <p>It is important to read and follow all the documented steps. Skipping steps or sections can cause issues with completing the lab.</p> <p>Also, invest a few minutes in reading the tips in the Using the demonstration guide section. The tips will save you time and frustration in completing the lab.</p>"},{"location":"#lab-overview","title":"Lab overview","text":"<p>This lab guide covers the setup, configuration, and usage of watsonx Assistant for Z. This lab guide uses the IBM watsonx Assistant for Z Velocity collection and the three Velocity Pilot lab environments in IBM Technology Zone (ITZ). </p> <p>The lab guide also enables dedicated lab environments for customized client PoXs and demonstrations. If you are preparing for an actual pilot engagement, refer to the Pilot Scoping Guide for watsonx Assistant for Z for additional information.</p> <p>Using the lab guide, you learn how to:</p> <ul> <li>Provision the lab environments</li> <li>Create an assistant and configuring conversational search</li> <li>Configure assistant settings</li> <li>Test conversational search</li> <li>Deploy a dedicated instance of OpenSearch for client document ingestion (Optional)</li> <li>Import skills for z/OS automations</li> <li>Connect apps to assistants</li> <li>Create assistant actions</li> <li>Create skill flows </li> <li>Publish and deploy an assistant</li> </ul> <p>In addition, you import pre-packaged z/OS skills and create custom-built skills to deliver an assistant that handles 3 use cases:</p> <ul> <li>Retrieving initial program load (IPL) information</li> <li>Managing certificates</li> <li>Resource Access Control Facility (RACF) administration support</li> </ul> <p>Not all capabilities of the offering are covered in the lab guide.</p> <p>This lab guide covers many features and capabilities of IBM Watson Assistant for Z, but not all. Some uncovered capabilities may be available in ITZ environments, while others may not, such as using skills for OMEGAMON.</p> <p></p>"},{"location":"#support","title":"Support","text":"<p>Think something is down? Check the applicable status pages for any known issues such as a site or service not being available:</p> <ul> <li>IBM Technology Zone status</li> </ul> <p>For issues with provisioning the ITZ environment for this lab (for example, a failed reservation request due to insufficient quota capacity), open a ticket with ITZ support:</p> <ul> <li> <p>Web:  IBM Technology Zone ticket system</p> </li> <li> <p>Email: techzone.help@ibm.com</p> </li> </ul> <p>For issues related to specific steps found in the demonstration guide after the ITZ environment is provisioned, contact the authors:</p> <ul> <li> <p>Slack: </p> </li> <li> <p>#watsonx-assistant-z-technical - IBM only</p> </li> <li> <p>#wxo-practitioners - IBM only - for questions that are related to the software as a service (SaaS) instance of watsonx Orchestrate</p> </li> <li> <p>Email: andrewj@us.ibm.com and maxwell.g.weiss@ibm.com</p> </li> </ul> <p>Business Partners, use the IBM Training live Chat Support service or other support methods that are found on the IBM Training portal here.</p>"},{"location":"#using-the-demonstration-guide","title":"Using the demonstration guide","text":"<p>Use these helpful tips to take full advantage of the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide.</p> Printing the demonstration guide <p>Printed or saved copies can be out of date</p> <p>The IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide changes regularly to match the IBM watsonx Assistant for Z offering and associated ITZ environment. Printed or saved copies of the demonstration guide can become out-of-date quickly and result in failed steps. </p> <p>A ready-to-print PDF version of the IBM watsonx Assistant for Z for Technical Sales Level 4 Lab Guide is here. </p> <p></p> Create a reference card for storing user IDs, passwords, and links for your ITZ environments. <p>You will be creating and using multiple user IDs, passwords, links, and other content throughout the lab. To save time, it is strongly suggested you create a simple text file to store this data so it is readily available and you can easily cut and paste the data when needed.  Here is a template to get you started.</p> <pre><code>watsonx Assistant for Z - Level 4 shortcuts:\n\nwatsonx Orchestrate\n\n    IBM Cloud account: \n    IBM Cloud resources: https://cloud.ibm.com/resources\n    watsonx Orchestrate URL: \n\n    Assistant name: \n    Assistant description: \n    Assistant icon: https://ibm.github.io/SalesEnablement-L4-watsonx-AssistantForZ/Setup/_attachments/Zeeves75x75.png\n\nOpenShift\n\n    Cluster Admin Username: kubeadmin\n    Cluster Admin Password: \n    OCP Console: \n\n    IBM Cloud container entitlement key: \n\n    OS-secret password: \n    Client ingestion AuthKey: \n    Wrapper password: \n    Cluster domain for routes: \n    Ingestion route (append /v1/query): \n\nAnsible\n\n    Ansible Automation Platform URL: \n    AAP User Name: admin\n    AAP password:\n\n    Wazi User: IBMUSER\n    Wazi Password:\n    Wazi URL: \n\nLive Embed\n\n    inetegrationID:\n    region:\n    serviceInstanceID:\n</code></pre> Viewing images <p>Images in the demonstration guide can be enlarged by clicking on the image. Press the Esc key or click the X to dismiss the enlarged image.</p> <p></p> Image highlighting <p>In some images, the following styles of highlighting are used:</p> <ul> <li> <p>Solid highlight box: This style of box highlights where to click, enter, or select an item. </p> </li> <li> <p>Dash highlight box: This style of box highlights one of two things: the path to follow to get to a specific location in the user interface, or areas to explore on your own. </p> </li> </ul> Copying commands and prompts <p>Copying and pasting commands and prompts from this demonstration guide is easy and can eliminate typographical errors.</p> <p>Click the highlighted copy icon and then use your operating system's paste function. For example, Ctrl+V, or right-click and select <code>Paste</code>. </p> Acronyms and terminology <p>IBM employees and the tech industry in general, tend to use acronyms. In the demonstration guide, most acronyms will appear with a dashed underline. Hover over the acronym to learn its meaning. A question mark () icon will first appear and after a second the tool tip with the acronym's meaning is displayed. Try it here: LPAR. </p> <p></p> The Lab Guide table of contents <p>This Demonstration Guide uses a responsive browser-based interface to ensure pages are usable on various devices with different screen sizes. The Demonstration Guide table of contents may be displayed as highlighted in the green dashed box in this image:</p> <p></p> <p>However, if the browser window is sized smaller, the table of contents can be accessed by clicking the main menu icon ():</p> <p></p> <p>Click the main menu icon () to expand the table of contents.</p> <p>Continue to the Reserve the IBM Technology Zone environments section to begin the journey to obtain the IBM watsonx Assistant for Z Technical Sales Advanced badge.</p>"},{"location":"TechZoneEnvironment/","title":"Reserve the IBM Technology Zone environment","text":""},{"location":"TechZoneEnvironment/#ibm-technology-zone-environment","title":"IBM Technology Zone environment","text":"<p>To enable sellers to learn how to deliver client pilots of IBM watsonx Assistant for Z, three environments are available in IBM Technology Zone (ITZ). The environments are part of the watsonx Assistant for Z Velocity lab collection and can be found in the IBM watsonx Assistant for Z collection.</p> <ul> <li> <p>Watsonx Assistant for Z lab \u2013 watsonx Orchestrate: provides a dedicated environment on IBM Cloud where you can create and configure the assistant, set up conversational search, import skills, and configure actions.</p> </li> <li> <p>Ansible Automation Platform (AAP) &amp; z/OS: provides a pre-configured instance of AAP and Wazi z/OS. This environment includes Ansible playbooks, which you can import as skills within watsonx Orchestrate and connect to your assistant. Preinstalled templates for various use cases are also available (covered in later sections). Learn more about AAP here. Learn more about Wazi, here.</p> </li> <li> <p>Single Node OpenShift with NFS storage: provisions a single-node Red Hat OpenShift cluster (SNO) on IBM Cloud. This cluster installs a dedicated instance of OpenSearch for Watson Assistant for Z, enabling ingestion of client-supplied documents.- </p> </li> </ul> <p>All activities in this lab guide are required.</p> <p>To earn the IBM watsonx Assistant for Z Technical Sales Advanced badge and complete the Level 4 learning plan, you must provision all three ITZ environments and finish every section in the lab guide. Disregard any statements in the ITZ collection that suggest optional environments or tasks.</p> <p>Follow the instructions to create new reservation requests, extend the reservations, and access the ITZ demonstration environments. Provisioning the SNO environment in ITZ can take several hours, while the other two environments typically provisioning in under 30 minutes.</p>"},{"location":"TechZoneEnvironment/#create-a-reservation-request","title":"Create a reservation request","text":"<ol> <li> <p>Click each of the links that follow to open a browser to the reservation pages of the IBM watsonx Assistant for Z ITZ environments.</p> <p>You may be asked to authenticate to IBM Technology Zone.</p> <p>The steps to authenticate to ITZ are not detailed here as they may vary between users.</p> <p>Watsonx Assistant for Z lab \u2013 watsonx Orchestrate - reservation page</p> <p>Ansible Automation Platform (AAP) &amp; z/OS - reservation page</p> <p>Single Node OpenShift with NFS storage - reservation page</p> </li> </ol> <p>The next two steps are for one of the three environments. Repeat for all three environments.</p> <p>Follow the steps to create a reservation in ITZ for all three environments.</p> <ol> <li> <p>Select Reserve now.</p> <p>The Reserve now option creates a reservation for immediate use. Optionally, schedule the reservation for a later date, for example, when you are at your client's office to start a pilot.</p> <p></p> </li> <li> <p>Complete the reservation request form and then click Submit.</p> <p>The first two reservations are similar to the first image and have fields a-e that need to be completed.</p> <p>a. Name: specify a name for the reservation (optional).</p> <p>b. Purpose: select the Education purpose tile.</p> <p>For client pilots...</p> <p>For client pilots, set the Purpose field in the reservation to Pilot and provide an opportunity number to receive a longer reservation.</p> <p>c. Purpose description: enter a description, for example: Level 4 education.</p> <p>d. Preferred geography: select the region nearest to your physical location for improved performance and reduced network latency.</p> <p>e. End date and time: the initial maximum will be set to a specific number of days (typically two, but in somce cases longer) after the current date and time. Instructions follow to extend the reservation end date.</p> <p>f. Accept the IBM Technology Zone's terms and conditions and security policies.</p> <p>g. Click Submit.</p> <p></p> <p>In addition to the preceding fields, the reservation for the Single Node OpenShift with NFS storage has these additional fields:</p> <p>h. OCP/Kubernetes cluster network: leave the default setting of 10.128.0.0/14.</p> <p>i. Enable FIPS security: leave the default setting of No. Learn more about the Federal Information Processing Standards (FIPS) here.</p> <p>j. Master single node flavor: select 16 vCPU x 64 GB - 300 GB ephemeral storage.</p> <p>k. OpenShift version: select 4.14.</p> <p>l. OCP/Kubernetes service network: leave the default setting of 172.30.0.0/16.</p> <p>m. Accept the IBM Technology Zone's terms and conditions and security policies.</p> <p>n. Click Submit.</p> <p></p> </li> </ol> <p>During the provisioning process, multiple emails are sent to you from ITZ as the provisioning process runs. One email states the reservation is provisioning and the other email states that the environment is Ready.</p> <p>In rare cases, the provisioning process can fail. If you receive an email stating the reservation failed, try again by repeating Steps 1-3 for the environment that failed to provision. In addition, review the Troubleshooting section that follows. If issues continue, open an ITZ support ticket by using the methods that are mentioned in the Support section.</p>"},{"location":"TechZoneEnvironment/#extend-the-reservation","title":"Extend the reservation","text":"<p>When the reservations are in the Ready state, you can extend each reservation beyond its original end date. The duration of the extension will vary by reservation. </p> <ol> <li> <p>In the IBM Technology Zone portal, expand My TechZone and select My Reservations.</p> <p></p> </li> <li> <p>Click the overflow icon () on the reservation tile and select Extend.</p> <p></p> </li> </ol> <ol> <li> <p>Click the Select a date option, (a) specify the date to extend to, and then (b) click Extend.</p> <p></p> </li> </ol> <p>If you anticipate needing more time, repeat Steps 5-6 to extend the reservation to the maximum allowed. Repeat these steps for the other two reservations.</p>"},{"location":"TechZoneEnvironment/#join-the-itz-ibm-cloud-account","title":"Join the ITZ IBM Cloud account","text":"<p>Both the watsonx Assistant for Z lab \u2013 watsonx Orchestrate and the Ansible Automation Platform (AAP) &amp; z/OS environments add you to an IBM Cloud account while your reservation is active. During the provisioning process of these ITZ environments, you receive two emails from IBM Cloud. </p> <p>You only need to accept the invitation to the watsonx Assistant for Z lab \u2013 watsonx Orchestrate environment.</p> <ol> <li> <p>Open the email from IBM Cloud and click the Join now links.</p> <p></p> </li> <li> <p>In the Join IBM Cloud browser window that opens, select the I accept the product Terms and Conditions of the registration form, and then click Join Account.</p> <p></p> </li> </ol> <p>After joining the account, verify that the account appears in your available account list in the IBM Cloud portal.</p> <ol> <li> <p>Click the following link to open a browser to the IBM Cloud portal.</p> <p>IBM Cloud portal</p> </li> <li> <p>Follow the directions to complete the authentication to IBM Cloud using the same email address you used to login to ITZ. The login steps vary depending on any two-factor authentication methods enabled. </p> <p></p> </li> <li> <p>Click the account menu and verify access to the IBM Cloud account listed in your ITZ reservation.</p> <p>The account may be different.</p> <p>The account name should align with the account named in the invitation email you received. </p> <p></p> Does your IBM Cloud portal view look different? <p>If your IBM Cloud portal looks different from the images above, it could be because the IBM Cloud portal has gone through a design change, or your browser window is set to smaller size. Instead of the current selected account appearing in the top menu, you may see this change account icon: . Click this icon to view the list of accounts you can access.</p> <p></p> </li> </ol>"},{"location":"TechZoneEnvironment/#accessing-the-environments","title":"Accessing the environments","text":"<p>Each reservation provides access to its respective environment. Details for accessing each environment are provided in the Pilot setup sections that follow in the lab guide.</p> <p>After all three reservations are in the Ready state and you accept the invitations to the IBM Cloud accounts, proceed to the next section to complete the pilot setup.</p>"},{"location":"TechZoneEnvironment/#troubleshooting","title":"Troubleshooting","text":"If your reservation for the Single Node OpenShift environment fails... <p>If your reservation for the Single Node OpenShift environment fails, try selecting one of the eu-gb region options as the Preferred Geography. </p>"},{"location":"nav/","title":"Nav","text":"<ul> <li>Welcome</li> <li>Reserve the IBM Technology Zone environment</li> <li>Deploy and configure zAssistantDeploy<ul> <li>Overview</li> <li>Install the oc CLI and log into OpenShift</li> <li>Install IBM Certificate Manager</li> <li>Install the watsonx Assistant for Z Operator</li> <li>Deploy secrets for OpenSearch and Client Ingestion</li> <li>Deploy zAssistantDeploy service</li> <li>Verify deployment and acquire OpenSearch connection details</li> </ul> </li> <li>Create an Assistant with zRAG documentation<ul> <li>Overview</li> <li>Access watsonx Orchestrate</li> <li>Create a zRAG Assistant</li> <li>Setup conversational search</li> <li>Configure settings for conv search</li> <li>Additional configuration</li> <li>Testing assistant's conv search capbilities</li> </ul> </li> <li>Ingest customer documentation<ul> <li>Overview</li> <li>Download and configure zAssist utility</li> <li>Create Service Credentials for IBM COS</li> <li>Log into COS via ibmcloud utility</li> <li>Create a storage bucket</li> <li>Upload docs to storage bucket</li> <li>Execute doc ingestion</li> <li>Test assistant Q&amp;A with ingested documents</li> </ul> </li> <li>Prepare watsonx.ai services for agent deployment<ul> <li>Create watsonx.ai Project</li> <li>Create Deployment Space</li> <li>Generate IBM Cloud API key</li> <li>Retrieve watsonx Orchestrate Service Instance URL</li> <li>Locate your WML Base URL</li> </ul> </li> <li>Execute agent deployment <ul> <li>Introduction to Agent Deployment</li> <li>Setup for Agent Deployment<ul> <li>Setup VS Code workspace</li> <li>Overview of the wxa4z-agent-suite Helm charts</li> </ul> </li> <li>Configure shared (global) agent variables</li> <li>Prepare for IBM Z Upgrade Agent<ul> <li>Summary of agent capabilities</li> <li>Configure the 'env' variables</li> <li>Configure the 'ptfJob' variables</li> <li>Configure the 'secrets.data' variables</li> <li>Configure the 'pvc' variable with storageClass</li> </ul> </li> <li>Prepare for IBM Z Support Agent<ul> <li>Summary of agent capabilities</li> <li>Configure the 'env' variables</li> <li>Configure the 'secrets.data' variables</li> </ul> </li> <li>Prepare for IBM Z OMEGAMON Insights Agent<ul> <li>Summary of agent capabilities</li> <li>Configure the 'env' variables</li> <li>Configure the secrets.data variables</li> </ul> </li> <li>Execute Agent Deployment</li> <li>Access Agents and Test Demo Scenarios<ul> <li>Access your deployed agents</li> <li>Test the IBM Z Support Agent</li> <li>Test the IBM Z OMEGAMON Insights Agent</li> <li>Test the IBM Z Upgrade Agent</li> </ul> </li> <li>Embed Agent Chat in Web Page</li> </ul> </li> <li>Build your own agent using the Agent Development Kit (ADK)<ul> <li>Introduction to the Agent Development Kit (ADK)</li> <li>Installing and setting up ADK environment</li> <li>Configuring AAP and z/OS certificates</li> <li>Preparing VS Code workspace</li> <li>Creating a connection and configuring credentials</li> <li>Importing tools</li> <li>Deploy the agent</li> <li>Publish agent to 'Live' version</li> <li>Test agent execution flow</li> </ul> </li> </ul>"},{"location":"agentdeploy/Overview/","title":"Overview of Agent Deployment","text":""},{"location":"agentdeploy/configure-shared-variables/","title":"Configuring Shared (Global) Agent variables","text":""},{"location":"agentdeploy/setup/","title":"placeholder","text":""},{"location":"agentdeploy/wxa4z-agent-suite/","title":"placeholder","text":""},{"location":"agentdeploy/upgrade-agent/env/","title":"placeholder","text":""},{"location":"agentdeploy/upgrade-agent/overview/","title":"placeholder","text":""},{"location":"agentdeploy/upgrade-agent/ptfJob/","title":"placeholder","text":""},{"location":"agentdeploy/upgrade-agent/pvc/","title":"placeholder","text":""},{"location":"agentdeploy/upgrade-agent/secrets-data/","title":"placeholder","text":""},{"location":"ingest/Overview/","title":"Overview","text":"<p>test</p>"},{"location":"ingest/cos-service-credentials/","title":"Create Service Credentials for IBM COS","text":""},{"location":"ingest/cos-service-credentials/#create-service-credentials-for-ibm-cloud-object-storage-cos","title":"Create service credentials for IBM Cloud Object Storage (COS)","text":"<p>Before uploading the provided sample documents to IBM Cloud Object Storage (COS), you must first create service credentials that you will use to connect to your instance.</p> <ol> <li> <p>Navigate to the Resource List of your provisioned SaaS services in IBM Cloud (ensuring you're in the correct IBM Cloud account). The steps to access your Resource List can be found by following the instructions in PLACEHOLDER Section 3.1: Accessing IBM watsonx Orchestrate Trial/Standard Plan. </p> </li> <li> <p>In the Resource List page, click on the Storage drop-down and click on the name of your COS instance. </p> <p></p> </li> <li> <p>Click on the Service credentials tab and then click on New Credential +</p> <p></p> </li> <li> <p>In the Create credentials window, set the following values and then click Add. </p> <p>a. Name: enter any name</p> <p>b. Role: select Manager</p> <p>c. Toggle Include HMAC Credential to On</p> <p>d. Toggle the Control by Secrets Manager to the Off position</p> <p></p> </li> <li> <p>You should then see your new credential in the list. Click on the drop-down next to your credentials to display the credentials details.</p> <p></p> </li> <li> <p>Then you should see your credential details as shown below.</p> <p>Copy and record your unique values for the following parameters as you will need them in the next steps: </p> <p>a. access_key_id</p> <p>b. secret_access_key</p> <p></p> </li> </ol>"},{"location":"ingest/create-storage-bucket/","title":"Create a storage bucket","text":""},{"location":"ingest/create-storage-bucket/#create-a-new-storage-bucket","title":"Create a new storage bucket","text":"<p>Next you will create a new bucket in your COS instance which will you will later upload the provided sample documents to for ingestion.</p> <ol> <li>In your local workstation's command prompt or terminal window, run the following command to create a new bucket, replacing:</li> </ol> <ul> <li> <p>&lt;unique_bucket_name&gt;: any unique name for your bucket</p> </li> <li> <p>&lt;your_region&gt;: replace with the region your Single Node OpenShift environment is provisioned in (check your environment details). Options include:</p> <ul> <li>us-south</li> <li>eu-de</li> <li>eu-gb</li> <li>us-east</li> <li>... </li> </ul> <pre><code>ibmcloud cos bucket-create --bucket &lt;unique_bucket_name&gt; --class standard --region &lt;your_region&gt;\n</code></pre> </li> </ul> <ol> <li> <p>If created successfully, you should see output similar to what's shown below:</p> <p></p> </li> <li> <p>Verify the bucket was successfully created by going back to your COS Instance in IBM Cloud and clicking on the Buckets tab. You should see your new bucket listed.</p> <p></p> </li> </ol>"},{"location":"ingest/download-zassist/","title":"Download and configure zAssist utility","text":""},{"location":"ingest/download-zassist/#download-and-configure-the-zassist-utility","title":"Download and configure the zassist utility","text":"<p>The zassist utility is an executable program that automates the ingestion of client documentation into the RAG for watsonx Assistant for Z. A version of zassist is available for download for IBMers and Business Partners for conducting pilots. Follow the steps below to download and install zassist.</p> <ol> <li> <p>Click the following link and download the zassist.zip file from Box:</p> <p>https://ibm.box.com/s/bm1df1gakz4302vrfd9to3rf221420ze</p> </li> <li> <p>Extract the .zip file.</p> </li> <li> <p>Locate the appropriate file for your local workstation's operating system. </p> <p></p> </li> <li> <p>Either copy the appropriate zassist file to a directory in your PATH, or add the appropriate directory to your PATH environment variable. </p> <p>Additional information for doing this can be found here. </p> <p>NOTE: Windows users may need to rename the file to zassist.exe for proper execution</p> </li> <li> <p>Run the following command to verify it's working:</p> <pre><code>zassist\n</code></pre> <p></p> </li> <li> <p>And finally, enable the client-side ingestion feature through a remote S3 source by running the following command on your local terminal / command-line:</p> <p>Mac users: </p><pre><code>oc -n wxa4z-zad patch zassistantdeploy zassistantdeploy --type='merge' -p='{\"spec\": {\"clientIngestion\": {\"beta\": {\"enabled\": true}}}}'\n</code></pre> <p>Windows users: </p><pre><code>oc -n wxa4z-zad patch zassistantdeploy zassistantdeploy --type=\"merge\" -p=\"{\\\"spec\\\": {\\\"clientIngestion\\\": {\\\"beta\\\": {\\\"enabled\\\": true}}}}\"\n</code></pre> </li> </ol>"},{"location":"ingest/execute-ingestion/","title":"Execute doc ingestion","text":""},{"location":"ingest/execute-ingestion/#execute-document-ingestion","title":"Execute Document Ingestion","text":"<p>In this step you will log into your client ingestion server and kickoff the ingestion pipeline for your uploaded files.</p> <ol> <li> <p>Navigate to your local command-prompt or Terminal window and set the WXA4Z_TLS_VERIFY environment variable to false to skip server certificate verification by running the following command (depending on your operating system):</p> <p>Mac users: </p><pre><code>export WXA4Z_TLS_VERIFY=false\n</code></pre> <p>Windows users: </p><pre><code>set WXA4Z_TLS_VERIFY=false\n</code></pre> <p>Windows PowerShell Users: </p><pre><code>Set-Item Env:\\WXA4Z_TLS_VERIFY \u201cfalse\u201d\n</code></pre> </li> <li> <p>Retrieve the Server URL for your Client Ingestion Server.</p> <p>Mac users: </p><pre><code>echo https://$(oc -n wxa4z-zad get route wxa4z-client-ingestion -o jsonpath=\"{.spec.host}\")\n</code></pre> <p>Windows users (this method can also be used by Mac users):</p> <p>You can retrieve the URL in your OCP Web console by navigating to Networking -&gt; Routes, and then copy the URL for the wxa4z-client-ingestion route as shown below:</p> <p></p> </li> <li> <p>Retrieve the client-ingestion-authkey for your Client Ingestion server by running the following command: </p> <pre><code>oc -n wxa4z-zad get secret client-ingestion-authkey -o jsonpath=\"{.data.authkey}\" | base64 -d\n</code></pre> <p>The output of this command is your unique auth-key that you had previously set. You will need the output of both previous commands in the next step.</p> <p>If the command doesn't work for you</p> <p>If the command doesn't work for you, you can find the authkey value by viewing the client-ingestion-secret.yaml file you modified, and copying the value set for the authkey parameter. </p> </li> <li> <p>Log into your client ingestion server using the zassist utility by running the following command, replacing <code>&lt;server_url&gt;</code> with the value from step 2 above:</p> <pre><code>zassist login &lt;server_url&gt;\n</code></pre> </li> <li> <p>When prompted, enter the authkey value from step 3 above. Then verify that a Success message is returned. </p> </li> <li> <p>Verify that you're connected by running the following command:</p> <pre><code>zassist list\n</code></pre> <p>This command will return all connected remote sources to your client ingestion server. By default, you should see in the output that there are no connected sources under <code>ID</code>.</p> </li> <li> <p>Start the ingestion process to connect your remote COS source to the watsonx Assistant for Z data ingestion pipeline by running the following command (see below the command on how to retrieve each of the parameters listed):</p> <pre><code>zassist ingest s3 \"&lt;SOURCE_NAME&gt;\" \"&lt;S3_URL&gt;\" \"&lt;S3_KEY_ID&gt;\" \"&lt;S3_SECRET_KEY&gt;\" \"&lt;BUCKET_NAME&gt;\" --watch --skip-pii\n</code></pre> <p>a. &lt;SOURCE_NAME&gt; : replace this with any name of your choice. Make sure the name is in lowercase, uses only underscores, and does not start with a number. </p> <p>b. &lt;S3_URL&gt;: </p> <ul> <li>To retrieve your <code>&lt;S3_URL&gt;</code>, navigate to your COS instance in IBM Cloud </li> <li> <p>Click on the Endpoints tab on the left-hand menu:</p> <p></p> </li> <li> <p>In the 'Select resiliency' drop-down, select Regional: </p> <p></p> </li> <li> <p>In the \u2018Select location\u2019 drop-down click on the region where you created your bucket. In the example shown earlier, the bucket was created in the eu-de region, so you would select the Europe \u2013 Frankfurt (eu-de) region as shown below.</p> <p></p> <p>Make sure to select the region that corresponds to your own bucket</p> </li> <li> <p>Based on the region you selected, copy and record the region's Public endpoint as shown below (in this example, it's for the eu-de region)</p> <p></p> </li> <li> <p>After recording your Public endpoint in a local notepad, append <code>https://</code> to the front of it. In the example shown above, the new endpoint URL would become:</p> <pre><code>https://s3.eu-de.cloud-object-storage.appdomain.cloud\n</code></pre> <p>This is the final value of your  variable that you will use for the above zassist command.</p> </li> </ul> <p>c. &lt;S3_KEY_ID&gt;: replace this with the \u2018access_key_id\u2019 value in the Service Credentials you created for your COS instance in Step 6 of Section Create service credentials for IBM COS</p> <p></p> <p>d. &lt;S3_SECRET_KEY&gt;: replace this with the 'secret_access_key' value in the Service Credentials you created for your COS instance in Step 6 of Section Create service credentials for IBM COS</p> <p></p> <p>e. &lt;BUCKET_NAME&gt;: replace this with the name of your bucket you originally created in your COS instance.</p> <p>The final result of the command (once you've plugged in your unique values) should look something like the example command below (these values will not work for you):</p> <pre><code>zassist ingest s3 \"my_source\" \"https://s3.eu-de.cloud-object- storage.appdomain.cloud\" \"7633c87cbcc0484bb9436bb06e70ef08\" \"8d326111d26c930a4992ce612eec065e4f11d2234ec96e02\" \"demo-byod\" --watch -- skip-pii\n</code></pre> </li> <li> <p>Execute the previous command from your local command-prompt/terminal. Once executed, the ingestion process will begin. You should see output similar to below:</p> <p></p> <p>Command options used....</p> <p>Because you used the --watch flag in the command, it will begin monitoring the status of the ingested source. In our case there are 3 files to be ingested, as shown in the screenshot above.</p> <p>Additionally, notice that you also used the --skip-pii flag at the end of your command. This will bypass any automatic PII checks that are done. This is suitable for the Lab as we\u2019re using test data. For typical customer pilots, you should not be ingesting any PII data, otherwise cleaning the data to ensure no sensitive data is included.</p> </li> <li> <p>Once the ingestion process completes (typically less than 5 min.) you will see something like what\u2019s shown below, indicating that the new 3 files have been successfully ingested.</p> <p></p> </li> <li> <p>Finally, verify that the documents are now ingested in your remote S3 source by running the following command:</p> <pre><code>zassist list\n</code></pre> <p>This will list all connected remote sources, as shown below:</p> <p></p> <p>In the above command, you can see the original Source Name that you inputted into the zassist ingest command parameter, as well as it\u2019s ID and Status.</p> </li> <li> <p>To view detailed information about the source, run the following command, replacing <code>&lt;id&gt;</code> with the ID value returned in the previous command:</p> <pre><code>zassist details &lt;id&gt;\n</code></pre> <p>This should return something similar to below:</p> <p></p> <p>In the returned output, you should see that the Completed state is set to \u2018true\u2019, and you should see all 3 files that you uploaded to your S3 bucket in your COS instance.</p> <p>For more information on the zassist command syntax, reference the IBM docs page here.</p> </li> </ol>"},{"location":"ingest/ibmcloud-utility/","title":"Log into COS via ibmcloud utility","text":""},{"location":"ingest/ibmcloud-utility/#log-into-cos-via-ibm-cloud-utility","title":"Log into COS via IBM Cloud Utility","text":"<p>Next you will connect to your COS instance via command-line, using the credential values you recorded previously.</p> <ol> <li> <p>Navigate to your local workstation\u2019s command prompt or terminal window. Make sure the ibmcloud CLI is already installed.</p> <p>This can be verified by running the following command:</p> <pre><code>ibmcloud help\n</code></pre> <p>If you do not have it installed, do so by following these instructions.</p> </li> <li> <p>Install the COS Plugin by running the following command:</p> <pre><code>ibmcloud plugin install cloud-object-storage\n</code></pre> </li> <li> <p>Run the following command to authenticate to IBM Cloud using HMAC authentication:</p> <pre><code>ibmcloud cos config auth --method HMAC\n</code></pre> </li> <li> <p>Run the following command to authenticate to your IBM COS instance:</p> <pre><code>ibmcloud cos config hmac\n</code></pre> </li> <li> <p>You will then be prompted for your Access key. Copy and paste the value of your access_key_id that you recorded earlier and hit enter. </p> <p></p> <p>NOTE: your access_key_id is unique and will not be the same as above</p> </li> <li> <p>Next, you will be prompted for your Secret key. Copy and paste the value of your secret_access_key that you recorded earlier and hit enter. </p> <p></p> <p>NOTE: your secret_access_key is unique and will not be the same as above</p> </li> <li> <p>You should then get the following message:</p> <pre><code>Successfully saved HMAC Credentials to file\n</code></pre> </li> <li> <p>Finally, run the following command to list the buckets created in your instance:</p> <pre><code>ibmcloud cos buckets\n</code></pre> <p>In the output, you should see that no buckets have been created:</p> <p></p> </li> </ol>"},{"location":"ingest/test-q%26a/","title":"Test assistant Q&A with ingested documents","text":""},{"location":"ingest/test-q%26a/#test-assistant-qa-with-newly-ingested-documents","title":"Test Assistant Q&amp;A with newly ingested documents","text":"<p>Now that you\u2019ve successfully ingested the sample customer documents, you\u2019ll be able to test the assistant\u2019s ability to answer company-specific questions related to the internal documents. First you will adjust your assistant\u2019s conversational search settings to prioritize the ingested documents. </p> <p>Secondly, you will prompt the assistant with questions related to those documents to gauge performance.</p>"},{"location":"ingest/test-q%26a/#adjust-conversational-search-settings-for-ingested-documentation","title":"Adjust conversational search settings for ingested documentation","text":"<p>First, you will adjust the conversational search settings for your assistant in order to prioritize the ingested documents for Q&amp;A.</p> <ol> <li> <p>Navigate back to the watsonx Orchestrate UI.</p> </li> <li> <p>Go to the Assistant Builder view by clicking on Build --&gt; Assistant Builder.</p> <p>IMAGE</p> </li> <li> <p>In the left-side navigation, click on Generative AI.</p> <p>IMAGE</p> </li> <li> <p>At the bottom of the screen, click on View search integration.</p> <p>IMAGE</p> </li> <li> <p>Then click Custom Service. </p> </li> <li> <p>Scroll down to the Metadata field and modify it to prioritize your newly ingested documents.</p> <p>Currently, your Metadata field should look like what\u2019s shown below:</p> <pre><code>{\"doc_weight\":\n{\"product_docs\":0.5,\n\"customer_docs\":0.5},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\"standardize\":true,\n\"customer_indices\":\"customer_*\"}\n</code></pre> <p>Notice that <code>product_docs</code> and <code>customer_docs</code> are set equally (<code>0.5</code>). This is the default and causes the Assistant to prioritize the data search equally between the IBM documentation and the customer documents. </p> <p>In this case, we want the Assistant to prioritize the newly ingested customer docs. To do this, set <code>product_docs</code> to <code>0.2</code> and set <code>customer_docs</code> to <code>0.8</code>. When done, your Metadata field should look like the following:</p> <pre><code>{\"doc_weight\":\n{\"product_docs\":0.2,\n\"customer_docs\":0.8},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\"standardize\":true,\n\"customer_indices\":\"customer_*\"}\n</code></pre> </li> <li> <p>Secondly, you have the ability to set the scope of customer documentation that gets searched when generating a response. By default, <code>customer_indices</code> is set to <code>customer_*</code>.</p> <p>What this means is that all ingested documents from all of your ingested sources will be searched. In the case where you want to narrow the scope of the ingested documents to a single source, this can be modified to point to that source.</p> <p>Recall the output of the <code>zassist list</code> command. For example:</p> <p>IMAGE</p> <p>In the example above, when running the command to ingest documents, the <code>&lt;source name&gt;</code> provided was <code>my_source</code>. Note: your source name may be different. To check, issue the <code>zassist list</code> command on your command-line.</p> <p>In this case, we\u2019ve only created one source. But in the case you have multiple sources, each with their own set of ingested documents, it would be possible to narrow the scope of documents available to the assistant by configuring the <code>customer_indices</code> parameter in the Metadata field.</p> <p>To do this, modify the <code>customer_indices</code> value by replacing <code>customer_*</code> with <code>customer_&lt;your_source_name&gt;</code>.</p> <p>Using the screenshot above as an example, the new Metadata field would look like the following:</p> <pre><code>{\"doc_weight\":\n{\"product_docs\":0.2,\n\"customer_docs\":0.8},\n\"ibm_indices\":\"*_ibm_docs_slate,*_ibm_redbooks_slate\",\"standardize\":true,\n\"customer_indices\":\"customer_my_source\"}\n</code></pre> <p>NOTE: do not copy and paste exactly what's shown above. Make sure to use your unique source name. </p> </li> <li> <p>Lastly, for the purpose of testing Q&amp;A for the ingested documents, set the Contextual awareness setting to Single turn. Then click Save and Close.</p> <p>IMAGE</p> </li> </ol>"},{"location":"ingest/test-q%26a/#test-client-specific-qa-with-ingested-documents","title":"Test client-specific Q&amp;A with ingested documents","text":"<p>Now that you\u2019ve successfully ingested the sample customer documents and modified your conversational search settings, you\u2019re ready to verify the assistant\u2019s usage of the ingested documents.</p> <ol> <li> <p>Navigate back to the Preview page by hovering your cursor over the left-side navigation and clicking Preview. </p> <p>IMAGE</p> </li> <li> <p>Enter the following prompts to your assistant that are specifically referencing the sampled documentation provided. For each of the provided prompts, an example output is provided which may be different from your assistant\u2019s response. For each response, feel free to view the referenced citation to identify where the answer was taken from.</p> <p>PROMPT:</p> <pre><code>The customer application is failing with ERR-CBL-001, what does this internal error mean?\n</code></pre> <p>Example Output:</p> <p>SCREENSHOT</p> <p>Click the citations drop-down at the bottom of the response. Notice how your ingested documented is referenced. Feel free to click on the citation to check the reference.</p> <p>IMAGE</p> <p>PROMPT:</p> <pre><code>What specific syntax changes do I need to make in COBOL to call Java using the internal framework?\n</code></pre> <p>Example Output:</p> <p>SCREENSHOT</p> <p>PROMPT:</p> <pre><code>What is the internal git lab link to execute the Java on z/OS pipeline?\n</code></pre> <p>Example Output:</p> <p>SCREENSHOT</p> <p>PROMPT:</p> <pre><code>Are there any production incidents that were resolved in relation to Data corruption in the production database? If yes who can I collaborate with to resolve a similar issue today and what are their names?\n</code></pre> <p>Example Output:</p> <p>SCREENSHOT</p> </li> </ol>"},{"location":"ingest/upload-docs/","title":"Upload docs to storage bucket","text":""},{"location":"ingest/upload-docs/#upload-sample-documents-to-storage-bucket","title":"Upload sample documents to storage bucket","text":"<p>Before you can begin the ingestion process, you must first upload your files to the S3 source (in this case your IBM COS bucket). In this lab, there are three sample documents provided to illustrate the types of internal documentation a customer may want to ingest, which you will use for the purpose of this lab.</p> <p>These documents include:</p> <ul> <li> <p>Mainframe_COBOL_Error_Codes.pdf     This is a document containing company-specific mainframe COBOL error codes for their application. Developers within the organization typically review this document to quickly diagnose issues based on the application error codes returned.</p> </li> <li> <p>Mainframe_Operational_Incidents_Logs.xlsx</p> <p>This is an Excel spreadsheet that is leveraged by the organization\u2019s operational support team and contains historical records of production-level incidents that occurred. For each incident, there\u2019s a record of what the incident was, the date, how it was resolved and who was involved in resolving the incident.</p> </li> <li> <p>COBOL-CICS-to-Java-Internal-Framework.pdf</p> <p>This document is leveraged by the development team and contains details about the organization\u2019s internal framework for developing applications consisting of legacy COBOL CICS interoperating with new Java code. Within the document contains company-specific coding practices and code syntax that the developers frequently reference.</p> </li> </ul> <ol> <li> <p>Download the following BYOD.zip file containing the sample documents: </p> <p>https://ibm.box.com/s/abvi4lujh01xxu2zw9frvfp5b5g48522</p> </li> <li> <p>Unzip the file on your local machine. </p> </li> <li> <p>On your local command-line, <code>cd</code> to that directory. Your working directory should contain the 3 included document files to later be ingested, as shown below:</p> <p></p> </li> <li> <p>For each of the 3 documents in your directory, upload it to your bucket using the command below, replacing:</p> </li> </ol> <ul> <li> <p>&lt;your_bucket_name&gt;: replace this with the name of your bucket used in section Create a storage bucket</p> </li> <li> <p>&lt;file_key&gt;: replace this with a unique name for the file - this is the file name that will appear in your bucket</p> </li> <li> <p>&lt;local_file_path&gt;: replace this with the path to the file in your directory</p> </li> <li> <p>&lt;your_region&gt;: replace this with the region in which you created your bucket in the previous step. Options include:</p> <ul> <li>us-south</li> <li>eu-de</li> <li>eu-gb</li> <li>us-east</li> <li>... </li> </ul> <pre><code>ibmcloud cos object-put --bucket &lt;your_bucket_name&gt; --key &lt;file_key&gt; --body &lt;local_file_path&gt; --region &lt;your_region&gt;\n</code></pre> <p>EXAMPLE</p> <p>As an example, let\u2019s say I previously created a bucket in the previous step with bucket_name demo-byod and I created it in the eu-de region as shown below:</p> <p></p> <p>In this case, I would upload each of my 3 sample files to the bucket using the commands below (one command for each local file):</p> <pre><code>ibmcloud cos object-put --bucket demo-byod --key COBOL-CICS --body COBOL- CICS-to-Java-Internal-Framework.pdf --region eu-de\n</code></pre> <pre><code>ibmcloud cos object-put --bucket demo-byod --key Error-Codes --body Mainframe_COBOL_Error_Codes.pdf --region eu-de\n</code></pre> <pre><code>ibmcloud cos object-put --bucket demo-byod --key Incident-Logs --body Mainframe_Operational_Incidents_Logs.xlsx --region eu-de\n</code></pre> </li> </ul> <ol> <li> <p>Once, all three files have been successfully uploaded to your COS bucket, you should be able to verify they now exist by clicking on your bucket name in your COS instance within IBM Cloud.</p> <p></p> <p>In your bucket, click on the Objects tab and you should see all 3 files present, as shown below:</p> <p></p> </li> </ol>"},{"location":"watsonx-ai/api-key/","title":"Generate IBM Cloud API key","text":""},{"location":"watsonx-ai/deployment-space/","title":"Create Deployment Space","text":""},{"location":"watsonx-ai/project/","title":"Create watsonx.ai Project","text":""},{"location":"watsonx-ai/project/#create-watsonxai-project","title":"Create watsonx.ai Project","text":"<p>Now that you\u2019ve tested the conversational search features of your zRAG assistant and tested document ingestion using the sample documents provided, you will prepare for agent deployment of a subset of foundational agents entitled with watsonx Assistant for Z. As part of the deployment, you will first need to configure your watsonx.ai services and captured the needed secrets to provide in your agents\u2019 deployment. This section covers this process in detail.</p> <p>NOTE: as you complete each following sub-section, ensure you\u2019re recording all of the values being referenced in a local notepad. This will make life much easier later on during the agent deploy</p> <p>The first secret needed in configuring your watsonx Assistant for Z agents for deployment is retrieving your <code>&lt;WATSONX_PROJECT_ID&gt;</code>. This step will walk you through creating a Project in watsonx.ai and retrieving that secret for later use. </p> <ol> <li>Navigate to your Resources List in the IBM Cloud web console using the first Lab environment. Reference the instructions in <code>Section 3.1: Accessing IBM watsonx Orchestrate Trial/Standard Plan</code> for a reminder on how to get to your Resource List.</li> </ol>"},{"location":"watsonx-ai/service-instance-url/","title":"Retrieve watsonx Orchestrate Service Instance URL","text":""},{"location":"watsonx-ai/wml-base-url/","title":"Locate your WML Base URL","text":""},{"location":"zAssistantDeploy/Overview/","title":"Overview","text":"<p>The zAssistantDeploy section will cover the following tasks:     - a     - b     - c</p>"},{"location":"zAssistantDeploy/deploy-secrets/","title":"Deploy secrets for OpenSearch and Client Ingestion","text":"<p>test</p>"},{"location":"zAssistantDeploy/deploy-zAssistantDeploy/","title":"Deploy zAssistantDeploy service","text":"<p>test</p>"},{"location":"zAssistantDeploy/install-cert-manager/","title":"Install IBM Certificate Manager","text":"<p>test</p>"},{"location":"zAssistantDeploy/install-oc-utility/","title":"Install the oc CLI and log into OpenShift","text":"<p>test</p>"},{"location":"zAssistantDeploy/install-wxa4z-operator/","title":"Install the watsonx Assistant for Z Operator","text":"<p>test</p>"},{"location":"zAssistantDeploy/verify-deployment/","title":"Verify deployment and acquire OpenSearch connection details","text":"<p>test</p>"},{"location":"zRAG-Assistant/Overview/","title":"Overview","text":"<p>test</p>"},{"location":"zRAG-Assistant/access-wxo/","title":"Access watsonx Orchestrate","text":"<p>test</p>"},{"location":"zRAG-Assistant/additional-config/","title":"Additional configuration","text":"<p>test</p>"},{"location":"zRAG-Assistant/configure-settings/","title":"Configure settings for conv search","text":"<p>test</p>"},{"location":"zRAG-Assistant/create-assistant/","title":"Create a zRAG Assistant","text":"<p>test</p>"},{"location":"zRAG-Assistant/setup-conv-search/","title":"Setup conversational search","text":"<p>test</p>"},{"location":"zRAG-Assistant/testing-conv-search/","title":"Testing assistant's conv search capbilities","text":"<p>test</p>"}]}